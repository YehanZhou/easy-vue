<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <div id="app">
        <div id="test"></div>
        <div id="test1"></div>
        <div id="test2"></div>
    </div>
    <script src="./js/observe.js"></script>
    <!-- <script src="../node_modules/vue/dist/vue.min.js"></script> -->
    <script>
        (function() {
            const obj = {
                a: 1,
                b: 2
            }
            Object.keys(obj).forEach(k => {
                new Observe(obj, k, obj[k])
            })
            new Watcher(function() {
                document.getElementById('test').innerHTML = obj.a
                document.getElementById('test1').innerHTML = obj.a
                document.getElementById('test2').innerHTML = obj.b
            })
            // new Watcher(function() {
            //     document.getElementById('test1').innerHTML = obj.b
            // })

            setTimeout(function() {
                obj.a = 222
                obj.b = 111
            }, 2000)
        })()
    //     new Vue({
    //         el: '#app',
    //         data() {
    //             return {
    //                 a: 'sss',
    //                 arr: [{
    //                     b: {
    //                         c: 1111
    //                     }
    //                 }, '111']
    //             }
    //         },
    //         template: '<div>{{arr}}</div>',
    //         mounted () {
    //             setTimeout(() => {
    //                 this.arr[0].b.c = 10
    //                 // this.$set(this.arr, 0, 10)
    //             }, 1000)
    //         },
    //         watch: {
    //             a (val) {
    //                 console.log('xx')
    //             }
    //         }
    //     })
</script>
</body>
</html>